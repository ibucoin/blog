---
title: "写了一个好医生的脚本帮媳妇自动考试"
description: "写了一个好医生的脚本帮媳妇自动考试"
date: "2024-11-07"
cover: "https://images.unsplash.com/photo-1606326608606-aa0b62935f2b?q=80&w=1770&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
tags: ["Writing"]
---

## **省流简介**

媳妇有刷好医生的需求，要看视频，视频看完需要考试，考试题目是刷新后就乱序的，查答案也很麻烦，所以写了个脚本，自动考试。

## 前情提要
在咸鱼上面的话，刷10分的课程大概要15元，然后基本上一下午就可以刷完了。查了一下全网的相关内容，应该是破解了接口或者做了其他的破解才可以这么迅速。为了避免账号出现什么问题，所以没有选择这种方式，用手动刷的方式。

## 油猴脚本开发
大概的写一下脚本的开发思路，也就是怎么样自动化整个过程。
### 观看视频
视频观看采用的是服务器记录时间戳的方式，无法拖动，加速就会报错误，所以还是老实的挂机刷视频。视频每隔一段时间就会弹出窗口，要求你进行确认，视频刷新之后，需要手动的点击跳转到上次观看的内容。
``` js
//解决弹出窗口的问题
alert = () => true
//将alert的函数给替代掉

/*解决视频刷新的自动跳转上次观看内容
总体的思路也很简单，初始化的时候，进行一个延迟，等跳转的标签出现时候
进行模拟点击
**/
document.querySelector('#ccH5jumpInto').click()

/*
获取当前的播放时间，当视频播放完成之后，自动跳转下一个播放视频
思路同样是查找到未学习的视频标签，进行模拟点击
*/
```

### 自动考试
做了一个整体的自动化，进行课程页面-查找未考试的课程-进行课程-点击考试到考试页面-默认选择A-考试结果页面-按顺序选择对应的答案-得到正确答案-完成考试-下一个未考试课程。
基本上的自动化就是按照上面的这个流程来进行了，整体考试结束大概也就几分钟的时间。
这边主要有两个点是能自动化的原因：
- 考试验证界面可以直接遍历填写答案来进行答案验证，这样只要循环到正确的答案就可以了。
- 每个课程的考试题目是固定的，只是会乱序。
我通过缓存考试题目和答案，然后进行题目的比对，选出正确的答案就可以自动进行跳转了。

这个脚本做完之后，帮助媳妇和她同事解决了考试的问题，收获了一波人情，也算是有一定的帮助。